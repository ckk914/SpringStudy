
### í´ë¼ì´ì–¸íŠ¸ ìª½ ëœë”ë§ ë¹¼ê³  ì§œë‘” ì½”ë“œ
- ëœë”ë§ ëŒ€ì‹  í˜„ì¬ëŠ” ìƒˆë¡œê³ ì¹¨ í•´ë‘” ì½”ë“œ


## ì„œë²„ 
```dtd


    @PostMapping("/joinLunch")
    @ResponseBody
    public ResponseEntity<Object> joinLunch(@RequestBody LunchMemberDto lunchMemberDto) {

System.out.println("ğŸ‘€ğŸ‘€ğŸ‘€1");

        System.out.println("ğŸ‘€ğŸ‘€ğŸ‘€2");
        lunchMateBoardService.incrementProgressStatus(Integer.parseInt(lunchMemberDto.getLunchPostNumber()));
        System.out.println("ğŸ‘€ğŸ‘€ğŸ‘€3");
        LunchMateBoard board = lunchMateBoardService.findOne(Integer.parseInt(lunchMemberDto.getLunchPostNumber()));
        System.out.println("ğŸ‘€4board = " + board);

try {
// ì—…ë°ì´íŠ¸ëœ ì •ë³´ë¥¼ JSONìœ¼ë¡œ í¬ì¥í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜
Map<String, Object> response = new HashMap<>();
response.put("status", "success");
response.put("board", board); // ì—…ë°ì´íŠ¸ëœ lunchMateBoard ì •ë³´ë¥¼ í¬í•¨

        return ResponseEntity.ok(response);
    } catch (IllegalArgumentException e) {
        return ResponseEntity.badRequest().body(e.getMessage());
    }

    }

```

## í´ë¼ì´ì–¸íŠ¸ vs code

```dtd
// í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
                document.querySelectorAll('.btnJoin').forEach(button => {
                    button.addEventListener('click', async (e) => {
                        e.preventDefault();

                        const boardId = button.getAttribute('data-id');

                        // POST ìš”ì²­ ë³´ë‚´ê¸°
                        fetch(`${pageContext.request.contextPath}/lunchMateBoard/joinLunch`, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({ lunchPostNumber: boardId })
                        })
                            .then(response => {
                                if (!response.ok) {
                                    throw new Error('Network response was not ok');
                                }
                                return response.json(); // JSONìœ¼ë¡œ íŒŒì‹±
                            })
                            .then(data => {
                                console.log('Response:', data);
                                if (data.status === 'success') {
                                    const updatedBoard = data.board;
                                    // ì˜ˆì‹œ: ì—…ë°ì´íŠ¸ëœ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì›¹ í˜ì´ì§€ì— ë Œë”ë§
                                    const boardElement = document.querySelector(`tr[data-post-id="${updatedBoard.lunchPostNumber}"]`);
                                    if (boardElement) {
                                        boardElement.querySelector('td:nth-child(7)').textContent = updatedBoard.progressStatus;
                                    }
                                    alert('Successfully joined lunch!');
                                    location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                                } else {
                                    alert('Failed to join lunch: ' + data.message);
                                }
                            })
                            .catch(error => {
                                console.error('Error:', error);
                                alert('An error occurred while joining lunch. Please try again.');
                            });
                    });
                });
```